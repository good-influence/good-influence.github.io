---
layout: post
title: Generic
subtitle: Generic
categories: JAVA
tags: [JAVA, Generic]
---
## ì œë„¤ë¦­

í´ë˜ìŠ¤ ë‚´ë¶€ì—ì„œ ì‚¬ìš©í•  ë°ì´í„° íƒ€ì…ì„ **ì™¸ë¶€ì—ì„œ ì§€ì •í•˜ëŠ” ê¸°ë²•**

![](/assets/images/java/generic.png)

ì´ë ‡ê²Œ ë‹¤ë£° **ê°ì²´ì˜ íƒ€ì…ì„ ë¯¸ë¦¬ ëª…ì‹œí•´ì¤Œìœ¼ë¡œì¨ í˜•ë³€í™˜ì„ í•˜ì§€ ì•Šì•„ë„** ë˜ê²Œ í•˜ëŠ” ê²ƒì´ë‹¤. 
ì œë„¤ë¦­ì—ì„œëŠ” ì°¸ì¡°í˜• íƒ€ì…(reference type) ì„ ì˜ë¯¸í•˜ëŠ” ê¸°í˜¸ë¡œ `T` ë¥¼ ì‚¬ìš©í•˜ëŠ”ë° 'type'ì˜ ì²« ê¸€ìë¡œ ì–´ë– í•œ ì°¸ì¡°í˜• íƒ€ì…ë„ ê°€ëŠ¥í•˜ë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤. 

- `E` : element, ìš”ì†Œ (ì£¼ë¡œ ìë°” ì»¬ë ‰ì…˜ì— ì‚¬ìš©)
- `K` : key, í‚¤
- `V` : value, ê°’
- `N` : ìˆ«ì
- `S`, `U` ,`V` : ë‘ë²ˆì§¸, ì„¸ë²ˆì§¸, ë„¤ë²ˆì§¸ì— ì„ ì–¸ëœ íƒ€ì…

ê¸°í˜¸ì˜ ì¢…ë¥˜ë§Œ ë‹¤ë¥¼ ë¿ ëª¨ë‘ **ì„ì˜ì˜ ì°¸ì¡°í˜• íƒ€ì…ì„ ì˜ë¯¸**í•œë‹¤. 

```java
class GenericDemo<T> {
    T info;
    void setInfo(T info) {
        this.info = info;
    }
    T getInfo() {
            return info;
    }
}
```

## ë“±ì¥ ë°°ê²½
 
>ğŸ’¡ 1. íƒ€ì… ì•ˆì •ì„± (type-safety) ì œê³µ  
>ğŸ’¡2. íƒ€ì…ì²´í¬ì™€ í˜•ë³€í™˜ì„ ìƒëµ í•  ìˆ˜ ìˆê²Œ í•´ ì¤Œ â†’ ì½”ë“œê°€ ê°„ê²°í•´ì§

### íƒ€ì… ì²´í¬ (compile-time type check)

type-safetyë¥¼ ë†’ì¸ë‹¤ëŠ” ë§ì€ 

- **ì˜ë„í•˜ì§€ ì•Šì€ íƒ€ì…ì˜ ê°ì²´ë¥¼ ì €ì¥í•˜ëŠ” ê²ƒì„ ë§‰ê³ ,**
- **ì €ì¥ëœ ê°ì²´ë¥¼ êº¼ë‚´ì˜¬ ë•Œ ì›ë˜ì˜ íƒ€ì…ê³¼ ë‹¤ë¥¸ íƒ€ì…ìœ¼ë¡œ í˜•ë³€í™˜ë˜ì–´ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì˜¤ë¥˜ë¥¼ ì¤„ì—¬ì¤€ë‹¤ëŠ” ë§**ì´ë‹¤.

ì˜ˆë¥¼ë“¤ì–´, 

```java
public class ElementarySchool {

	public int subjectCount;

	public ElementarySchool(int subjectCount) {
		this.subjectCount = subjectCount;
	}
}

public class ElementaryStudent {

	public ElementarySchool es;

	public ElementaryStudent(ElementarySchool es) {
		this.es = es;
	}
}

public class HighSchool {

	public int subjectCount;

	public HighSchool(int subjectCount) {
		this.subjectCount = subjectCount;
	}
}

public class HighSchoolStudent {

	public HighSchool hs;

	public HighSchoolStudent(HighSchool hs) {
		this.hs = hs;
	}
}
```

ìœ„ ì½”ë“œì—ì„œ `ElementaryStudent` í´ë˜ìŠ¤ì™€ `HighSchoolStudent` ëŠ” ê°™ì€ êµ¬ì¡°ë¥¼ ê°–ê³  ìˆëŠ” ì½”ë“œë¡œ ì¤‘ë³µì´ ë°œìƒí•˜ê³  ìˆë‹¤.
ì¤‘ë³µì„ ì œê±°í•´ ë³´ë©´,

```java
public class HighSchool {

	public int subjectCount;

	public HighSchool(int subjectCount) {
		this.subjectCount = subjectCount;
	}
}

public class ElementarySchool {

	public int subjectCount;

	public ElementarySchool(int subjectCount) {
		this.subjectCount = subjectCount;
	}
}

public class Student {

	public Object school;

	public Student(Object school) {
		this.school = school;
	}
}
```

ì´ë ‡ê²Œ ì¤‘ë³µì„ ì œê±°í–ˆì„ ë•Œì˜ ë¬¸ì œì ì€ **íƒ€ì… ì•ˆì •ì„±ì´ ë³´ì¥ë˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ê²ƒ**ì´ë‹¤. 
ì‹œê°„ì´ í˜ëŸ¬í˜ëŸ¬ ì–´ë–¤ ëª©ì ìœ¼ë¡œ ê°œë°œí–ˆëŠ”ì§€ ê¸°ì–µì—ì„œ í¬ë¯¸í•´ì§ˆ ë¬´ë µì— ì € í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•œë‹¤ê³  ê°€ì •í•˜ë©´,

```java
public class App {
	public static void main(String[] args) {
		Student student = new Student("ì•„ë¦„ì´ˆë“±í•™êµ");
		ElementarySchool es = (ElementarySchool) student.school;
		System.out.println(es.subjectCount);
	}
}
```

`Student` í´ë˜ìŠ¤ì˜ ìƒì„±ìëŠ” `Object` íƒ€ì…ì„ ë°›ì•„ ëª¨ë“  ê°ì²´ë¥¼ ë°›ì„ ìˆ˜ ìˆì–´, `ElementarySchool` ê°ì²´ê°€ ì•„ë‹Œ `String` ì´ ì™€ë„ **ì»´íŒŒì¼ ì—ëŸ¬ê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤.**

ê·¸ëŸ¬ë‚˜ **ì‹¤í–‰ì„ í•˜ë©´** **RuntimeExceptionì´ ë°œìƒí•œë‹¤**.

![](/assets/images/java/generic-runtimeException.png)


ì´ì™€ ê°™ì€ ì—ëŸ¬ë¥¼ type-safety í•˜ì§€ ì•Šì•„ ë°œìƒí•œ ì—ëŸ¬ë¼ê³  í•œë‹¤. 

**ìë°”ëŠ” ì»´íŒŒì¼ ì–¸ì–´**ì´ë‹¤. ì»´íŒŒì¼ ì–¸ì–´ì˜ ê¸°ë³¸ì€ ëª¨ë“  ì—ëŸ¬ëŠ” ì»´íŒŒì¼ì´ ë°œìƒí•  ìˆ˜ ìˆë„ë¡ ìœ ë„í•´ì•¼ í•œë‹¤ëŠ” ê²ƒì´ë‹¤. ìœ„ì™€ ê°™ì€ ìƒí™©ì„ ë§‰ê¸° ìœ„í•´ ì¦‰, **ì»´íŒŒì¼ ìƒí™©ì— íƒ€ì…ì²´í¬ë¥¼ í•  ìˆ˜ ìˆê¸° ìœ„í•´ ì œë„¤ë¦­ì´ ë“±ì¥**í•˜ì˜€ë‹¤.

## ì œë„¤ë¦­í™”

```java
public class ElementarySchool {
    public int subjectCount;

    public ElementarySchool(int subjectCount) {
        this.subjectCount = subjectCount;
    }
}
public class HighSchool {
    public int subjectCount;

    public HighSchool(int subjectCount) {
        this.subjectCount = subjectCount;
    }
}

public class Student<T>{
    public T school;

    public Student(T school) {
        this.school = school;
    }
}

public class App {
    public static void main(String[] args) {

        Student<HighSchool> s1 = new Student<>(new HighSchool(3));
        HighSchool highSchool = s1.school;
        System.out.println(highSchool.subjectCount);

        Student<String> s2 = new Student<>("ì•„ë¦„ì´ˆë“±í•™êµ");
        String elementarySchool = s2.school;
        System.out.println(elementarySchool.subjectCount);  // ì»´íŒŒì¼ ì—ëŸ¬

    }
}
```

ì œë„¤ë¦­í™”ë¡œ ì½”ë“œë¥¼ ë³€ê²½í•˜ë©´ ì»´íŒŒì¼ë‹¨ê³„ì—ì„œ ì˜¤ë¥˜ë¥¼ ê²€ì¶œí•  ìˆ˜ ìˆë‹¤. (`String` ì€ `subjectCount` í•„ë“œê°€ ì—†ì–´ì„œ ì˜¤ë¥˜ ë‚˜ì˜´)

ì œë„¤ë¦­ì„ ì‚¬ìš©í•˜ë©´

- **ì»´íŒŒì¼ ë‹¨ê³„ì—ì„œ ì˜¤ë¥˜ê°€ ê²€ì¶œ**ëœë‹¤.
- **ì¤‘ë³µì˜ ì œê±°ì™€ íƒ€ì… ì•ˆì •ì„±ì„ ë™ì‹œì— ì¶”êµ¬** í•  ìˆ˜ ìˆë‹¤.

ì»¬ë ‰ì…˜ í´ë˜ìŠ¤ì¸ `ArrayList` ë¥¼ í†µí•´ ì˜ˆë¥¼ ë˜í•œë²ˆ ë“¤ì–´ë³´ê² ë‹¤. 

```java
ArrayList<School> schoolList = new ArrayList<School>(); 
schoolList.add(new School());
schoolList.add(new Hakwon());   // ì»´íŒŒì¼ ì—ëŸ¬
```

ì»¬ë ‰ì…˜ í´ë˜ìŠ¤ ë°”ë¡œ ë’¤ì— ì €ì¥í•  ê°ì²´ì˜ íƒ€ì…ì„ ì €ì¥í•´ì£¼ë©´ ì»¬ë ‰ì…˜ì— ì €ì¥í•  ìˆ˜ ìˆëŠ” ê°ì²´ëŠ” ì§€ì •í•œ íƒ€ì…ì˜ ê°ì²´ (`School`) ë¿ì´ë¼ í•´ë‹¹ íƒ€ì…ì´ ì•„ë‹Œ ë‹¤ë¥¸ ê°ì²´ë¥¼ ì €ì¥í•˜ê²Œ ë˜ë©´ ì»´íŒŒì¼ ì‹œ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤

ë˜, ì €ì¥ëœ ê°ì²´ë¥¼ êº¼ë‚¼ ë•Œ **í˜•ë³€í™˜í•  í•„ìš”ê°€ ì—†ë‹¤**. ì´ë¯¸ ì–´ë–¤ íƒ€ì…ì˜ ê°ì²´ë“¤ì´ ì €ì¥ë˜ì—ˆëŠ”ì§€ ì•Œê¸° ë•Œë¬¸ì´ë‹¤. 

```java
ArrayList schoolList = new ArrayList();
schoolList.add(new School());
School s = (School)schoolList.get(0);
```

```java
ArrayList<School> schoolList = new ArrayList<School>(); 
schoolList.add(new School());
School s = schoolList.get(0);
```

### ê¸°ë³¸ ë°ì´í„° íƒ€ì…

**ì œë„¤ë¦­ì€ ì°¸ì¡° ë°ì´í„° íƒ€ì…ì— ëŒ€í•´ì„œë§Œ ì‚¬ìš©**ì´ ê°€ëŠ¥í•˜ë‹¤. ë”°ë¼ì„œ ê¸°ë³¸ ë°ì´í„° íƒ€ì…ì„ ë°ì´í„° ê°ì²´ë¡œ í¬ì¥í•´ ì£¼ëŠ” í´ë˜ìŠ¤ì¸ ë˜í¼ í´ë˜ìŠ¤(Wrapper class) ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤. 

ex.

~~`Student<HighSchool, int> s1 = new Student<>();`~~ â†’ x

`Student<HighSchool, Integer> s2 = new Student<>();` â†’ o

primitive íƒ€ì…ì€ ì™œ ì œë„¤ë¦­ì„ ì‚¬ìš© ëª»í• ê¹Œ? 

â†’ **type Erasure ë•Œë¬¸ì´ë‹¤.**

## Erasure

íƒ€ì… íŒŒë¼ë¯¸í„°ë¥¼ **ì»´íŒŒì¼ íƒ€ì„ì—ë§Œ ê²€ì‚¬í•˜ê³ , ëŸ°íƒ€ì„ì‹œì—ëŠ” í•´ë‹¹ íƒ€ì… ì •ë³´ë¥¼ ì•Œ ìˆ˜ ì—†ê²Œ ì†Œê±°**í•˜ëŠ” ê²ƒ

```java
public class ErasureTest {
   List<Integer> list = new ArrayList<>();
}
```

ì´ ì½”ë“œì˜ ë°”ì´íŠ¸ ì½”ë“œë¥¼ ë³´ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.

```java
// class version 58.0 (58)
// access flags 0x21
// signature <T:Ljava/lang/Object;>Ljava/lang/Object;
// declaration: ErasureTest<T>
public class ErasureTest {

  // compiled from: ErasureTest.java

  // access flags 0x1
  public <init>()V
   L0
    LINENUMBER 1 L0
    ALOAD 0
    INVOKESPECIAL java/lang/Object.<init> ()V
    RETURN
   L1
    LOCALVARIABLE this LErasureTest; L0 L1 0
    // signature LErasureTest<TT;>;
    // declaration: this extends ErasureTest<T>
    MAXSTACK = 1
    MAXLOCALS = 1

  // access flags 0x1
  // signature (TT;)V
  // declaration: void test(T)
  public test(Ljava/lang/Object;)V
   L0
    LINENUMBER 3 L0
    GETSTATIC java/lang/System.out : Ljava/io/PrintStream;
    ALOAD 1
    INVOKEVIRTUAL java/lang/Object.toString ()Ljava/lang/String;
    INVOKEVIRTUAL java/io/PrintStream.println (Ljava/lang/String;)V
   L1
    LINENUMBER 4 L1
    RETURN
   L2
    LOCALVARIABLE this LErasureTest; L0 L2 0
    // signature LErasureTest<TT;>;
    // declaration: this extends ErasureTest<T>
    LOCALVARIABLE test Ljava/lang/Object; L0 L2 1
    // signature TT;
    // declaration: test extends T
    MAXSTACK = 2
    MAXLOCALS = 2
}
```

**`INVOKESPECIAL java/lang/Object.<init> ()V`**

ArrayList ê°€ ìƒì„±ë  ë•Œ íƒ€ì… ì •ë³´ê°€ ì—†ë‹¤. (ì œë„¤ë¦­ì´ ì‚¬ìš©í•˜ì§€ ì•Šê³  raw typeìœ¼ë¡œ ìƒì„±í•´ë„ ë˜‘ê°™ìŒ) â‡’ íƒ€ì… ì†Œê±° (type Erasure)

ìë°”ëŠ” ì™œ íƒ€ì…ì†Œê±°ë¥¼ í–ˆì„ê¹Œ?

java5ì—ì„œ ì»´íŒŒì¼ ëœ ì½”ë“œë¥¼ java4ì—ì„œë„ ì‹¤í–‰ì‹œí‚¬ ìˆ˜ ìˆê³  ì œë„¤ë¦­ì„ ì‚¬ìš©í•˜ì§€ ì•Šë˜ ë ˆê±°ì‹œ ì½”ë“œë“¤ë„ ë¬´ì‚¬íˆ ì˜ ì‹¤í–‰ë  ìˆ˜ ìˆê²Œ í•˜ë„ë¡ ì¦‰, **í•˜ìœ„ í˜¸í™˜ì„±** ë•Œë¬¸ì— ê·¸ëŸ¬ì§€ ì•Šì•˜ë‚˜ ì‹¶ë‹¤.

íƒ€ì… íŒŒë¼ë¯¸í„°ê°€ ìˆëŠ” í´ë˜ìŠ¤ì—ì„œëŠ” Erasureê°€ ì–´ë–»ê²Œ ì¼ì–´ë‚ ê¹Œ?

```java
public class ErasureTest<T> {
    private T data;

    public T getData() {
        return data;
    }

    public void setData(T data) {
        this.data = data;
    }
}
```

ì´ ì½”ë“œë¥¼ ìë°” ì»´íŒŒì¼ëŸ¬ëŠ” ì•„ë˜ì™€ ê°™ì´ ë³€ê²½í•œë‹¤.

```java
public class ErasureTest {
    private Object data;

    public Object getData() {
        return data;
    }

    public void setData(Object  data) {
        this.data = data;
    }
}
```

íƒ€ì… íŒŒë¼ë¯¸í„°ì— ë²”ìœ„ë¥¼ ì œí•œí•œë‹¤ë©´?

```java
public class ErasureTest<T extends Comparable<T>> {
    private T data;

    public T getData() {
        return data;
    }

    public void setData(T data) {
        this.data = data;
    }
}
```

ì•„ë˜ì™€ ê°™ì´ ë³€ê²½ëœë‹¤.

```java
public class ErasureTest {
    private Comparable data;

    public Comparable getData() {
        return data;
    }

    public void setData(Comparable data) {
        this.data = data;
    }
}
```

ê²°ë¡ ì ìœ¼ë¡œ ì œë„¤ë¦­ íƒ€ì…ì´ íŠ¹ì • íƒ€ì…ìœ¼ë¡œ ì œí•œë˜ì–´ ìˆì„ ê²½ìš° (`T extends Comparable` ) í•´ë‹¹ íƒ€ì…ì— ë§ì¶° ì»´íŒŒì¼ ì‹œ íƒ€ì… ë³€ê²½ì´ ë°œìƒí•˜ê³  ì œí•œì´ ì—†ì„ ê²½ìš° `Object` íƒ€ì…ìœ¼ë¡œ ë³€ê²½ëœë‹¤.
ê³ ë¡œ, primitive íƒ€ì…ì„ ì‚¬ìš© ëª»í•˜ëŠ” ê²ƒë„ ê¸°ë³¸ íƒ€ì…ì€ `Object` í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ê³  ìˆì§€ ì•Šê¸° ë•Œë¬¸ì´ë‹¤. ê·¸ë˜ì„œ `Wrapper` í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ `Object` í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ëŠ” ì°¸ì¡°í˜•ìœ¼ë¡œ ë³€ê²½í•œ ë’¤ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ê²ƒì´ë‹¤.

### ì œë„¤ë¦­ ë°°ì—´

ì œë„¤ë¦­ íƒ€ì…ì„ ì‚¬ìš©í•´ì„œ ë°°ì—´ì„ ìƒì„±í•˜ë ¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ í•´ì•¼ í•œë‹¤.

- ~~`T[] array = new T[size];`~~ (x)
    - ì»´íŒŒì¼ ì—ëŸ¬ ë°œìƒ : Type parameter 'T' cannot be instantiated directly
- `T[] array = new Object[size];` (o)

`new` ì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ë©´ ë™ì  ë©”ëª¨ë¦¬ í• ë‹¹ ì˜ì—­ì¸ heap ì˜ì—­ì— ìƒì„±í•œ ê°ì²´ë¥¼ í• ë‹¹í•˜ëŠ”ë°, **ì œë„¤ë¦­ì€ ì»´íŒŒì¼ íƒ€ì„ì— ë™ì‘í•˜ëŠ” ë¬¸ë²•**ìœ¼ë¡œ ì»´íŒŒì¼ íƒ€ì„ì— Tì˜ íƒ€ì…ì´ ì–´ë–¤ íƒ€ì…ì¸ì§€ ì•Œ ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— `Object` íƒ€ì…ìœ¼ë¡œ ìƒì„±í•œ ë‹¤ìŒ **íƒ€ì… ìºìŠ¤íŒ…**ì„ í•´ì£¼ì–´ì•¼ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤.

### ì œë„¤ë¦­ static

- ~~`static T value;`~~ (x)
    - `static` **ë³€ìˆ˜ì—ì„œëŠ” ì œë„¤ë¦­ íƒ€ì…ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤**.
    - `static` í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ë©´ `Test.value` ì²˜ëŸ¼ ê°ì²´ì— ì¢…ì†ë˜ì§€ ì•Šê³  í´ë˜ìŠ¤ì˜ ì´ë¦„ìœ¼ë¡œ ì ‘ê·¼í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. 
    ê·¼ë° ì œë„¤ë¦­ íƒ€ì…ì„ ì‚¬ìš©í•˜ê²Œ ë˜ë©´ Test í´ë˜ìŠ¤ì˜ íƒ€ì…ë„ ì»´íŒŒì¼ íƒ€ì„ì—ì„œëŠ” ì •í•´ì ¸ìˆì§€ ì•Šê³  íŠ¹ì • ê°ì²´ì— ì¢…ì†ë˜ê¸° ë•Œë¬¸ì—(`Test<Integer>`, `Test<String>`, ...) ì‚¬ìš© í•  ìˆ˜ ì—†ë‹¤.
- `static T void test();` (o)
    - `static` **ë©”ì†Œë“œì—ì„œëŠ” ì œë„¤ë¦­ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.**
    
    ```java
    public class App {
        public static void main(String[] args) {
            ArrayList<String> list = new ArrayList<>();
            ArrayList<Boolean> list1 = new ArrayList<>();
            list.add("static ë³€ìˆ˜ëŠ” ");
            list1.add(false);
            list.add("static ë©”ì†Œë“œëŠ” ");
            list1.add(true);
    
            printAll(list);
            printAll(list1);
        }
    
        public static <T> void printAll(ArrayList<T> list) {
            for (T t : list) {
                System.out.println(t);
            }
        }
    }
    ```
    
    ![](/assets/images/java/generic-result.png)

    
    ë©”ì†Œë“œì˜ ê²½ìš° **í•´ë‹¹ ê°’ì€ ë©”ì†Œë“œ ì•ˆì—ì„œ ì§€ì—­ë³€ìˆ˜ë¡œ ì‚¬ìš©ë˜ê¸° ë•Œë¬¸ì—** ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
    

## ìƒëµ

ì œë„¤ë¦­ì€ ìƒëµì´ ê°€ëŠ¥í•œë°, 

```java
HighSchool h = new HighSchool(1);
Integer i = new Integer(5);
// 1
Student<HighSchool, Integer> s1 = new Student<>(h,i);
// 2
Student s2 = new Studnet(h, i);
```

`h` ì™€  `i` ì˜ ë°ì´í„° íƒ€ì…ì„ ì•Œê³  ìˆê¸° ë•Œë¬¸ì— 1ë²ˆ ì½”ë“œë¥¼ 2ë²ˆ ì½”ë“œì²˜ëŸ¼ ìƒëµì´ ê°€ëŠ¥í•˜ë‹¤. (**ìƒì„±ìì˜ ë§¤ê°œë³€ìˆ˜ë¥¼ í†µí•´ ì•Œ ìˆ˜ ìˆê¸° ë•Œë¬¸**)

### ë©”ì†Œë“œì—ì„œì˜ ì œë„¤ë¦­

```java
public class HighSchool {
    public int subjectCount;

    public HighSchool(int subjectCount) {
        this.subjectCount = subjectCount;
    }
}

public class Student<T>{
    public T school;

    public Student(T school) {
        this.school = school;
    }
    
    // ë©”ì†Œë“œì— ì œë„¤ë¦­ ì‚¬ìš©
    public <U> void printSchool(U school) {
            System.out.println(info);
    }
}
public class App {
    public static void main(String[] args) {

        HighSchool h = new HighSchool(1);
        Integer i = new Integer(5);
        
        Student<HighSchool, Integer> s1 = new Student<>(h,i);
        s1.<HighSchool>printSchool(h);
        s1.printInfo(h);        // ìƒëµ ê°€ëŠ¥
    }
}

```

## Bounded Type Parameter, í•œì •ì  íƒ€ì… ë§¤ê°œë³€ìˆ˜

íƒ€ì…ì„ ë¯¸ì •ìœ¼ë¡œ í•´ë‘ê³  ì¸ìŠ¤í„´ìŠ¤í™”ê°€ ì§„í–‰ë  ë•Œ íƒ€ì…ì„ ì§€ì •í•˜ëŠ” ê²ƒì´ ì œë„¤ë¦­ì´ë¼ê³  í–ˆë‹¤. â†’ ê·¸ë ‡ë‹¤ë³´ë‹ˆê¹Œ ì˜¤ë§Œê°€ì§€ì˜ íƒ€ì…ë“¤ì´ ë“¤ì–´ì˜¬ ìˆ˜ ìˆë‹¤ëŠ” ë‹¨ì ì´ ìˆë‹¤. 

**ìë°”ì—ì„œëŠ” `extends` ë¥¼ ì‚¬ìš©í•˜ì—¬ ì œë„¤ë¦­ìœ¼ë¡œ ì˜¬ ìˆ˜ ìˆëŠ” ë°ì´í„° íƒ€ì…ì„ íŠ¹ì • í´ë˜ìŠ¤ì˜ ìì‹ìœ¼ë¡œ ì œí•œí•  ìˆ˜ ìˆë‹¤.** 

```java
public class Student<T extends School>{
    public T school;

    public Student(T school) {
        this.school = school;
    }
}
public class HighSchool extends School{
    public int subjectCount;

    public HighSchool(int subjectCount) {
        this.subjectCount = subjectCount;
    }

    @Override
    public String getArea() {
        return "ì„œìš¸";
    }
}

public class App {
    public static void main(String[] args) {

        Student<HighSchool> s1 = new Student<>(new HighSchool(3));
        Student<String> s2 = new Student<String>();  // ì»´íŒŒì¼ ì—ëŸ¬
    }
}
```

![](/assets/images/java/generic-compileError.png)


`extends` í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•œ ì œë„¤ë¦­ì„ ì‚¬ìš©í•˜ë©´ `School` í´ë˜ìŠ¤ë‚˜ ê·¸ ìì‹ ì™¸ì— ë‹¤ë¥¸ í´ë˜ìŠ¤ê°€ ì˜¬ ê²½ìš° ì»´íŒŒì¼ ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤.

ë˜, `extends` ëŠ” ìƒì†(extends) ë¿ë§Œ ì•„ë‹ˆë¼ êµ¬í˜„(implements)ê´€ê³„ì—ì„œë„ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤. 

```java
interface School {
    String getArea();
}
public class HighSchool extends School{
    public int subjectCount;

    public HighSchool(int subjectCount) {
        this.subjectCount = subjectCount;
    }

    @Override
    public String getArea() {
        return "ì„œìš¸";
    }
}

public class App {
    public static void main(String[] args) {

        Student<HighSchool> s1 = new Student<>(new HighSchool(3));
        Student<String> s2 = new Student<String>();  // ì»´íŒŒì¼ ì—ëŸ¬
    }
}
```

ì»¬ë ‰ì…˜ í´ë˜ìŠ¤ì¸ `ArrayList` ë¥¼ í†µí•´ ë‹¤ì‹œ í•œë²ˆ ì •ë¦¬í•´ë³´ì

```java
class Product{}
class Tablet extends Product{}
class Laptop extends Product{}

// Product í´ë˜ìŠ¤ì˜ ìì† í´ë˜ìŠ¤ë¥¼ ì €ì¥í•  ìˆ˜ ìˆëŠ” ArrayList ìƒì„±
ArrayList<Product> list = new ArrayList<Product>();
/* ì»´íŒŒì¼ ì—ëŸ¬ ë°œìƒí•˜ì§€ ì•ŠìŒ */
list.add(new Product());
list.add(new Tablet());
list.add(new Laptop());

Product p = list.get(0)        // í˜•ë³€í™˜ í•„ìš” x
Tablet t = (Tablet)list.get(1) // í˜•ë³€í™˜ í•„ìš” o

/* ë‹¤í˜•ì„± ì ìš© */
List<Tablet> tabletList = new ArrayList<Tablet>(); // í—ˆìš©

ArrayList<Product> list = new ArrayList<Tablet>(); // í—ˆìš© x
```

- `ArrayList`ê°€ `Product` íƒ€ì…ì˜ ê°ì²´ë¥¼ ì €ì¥í•˜ë„ë¡ ì§€ì •í•˜ë©´ ìì†ì¸ `Tablet`ê³¼ `Laptop` íƒ€ì…ì˜ ê°ì²´ë„ ì €ì¥í•  ìˆ˜ ìˆë‹¤.
    - **êº¼ë‚´ì˜¬ ë•ŒëŠ” í˜•ë³€í™˜ì´ í•„ìš”í•˜ë‹¤.**
- ë‹¤í˜•ì„±ì„ ì ìš©í•´ì„œ `List<Tablet> tabletList = new ArrayList<Tablet>();` ê°™ì€ ì½”ë“œëŠ” ê°€ëŠ¥í•˜ì§€ë§Œ, `ArrayList<Product> list = new ArrayList<Tablet>();` ì™€ ê°™ì€ ì½”ë“œëŠ” í—ˆìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.
    
    ```java
    public static void printAll(ArrayList<Product> list) {
        for (Product p : list) {
            System.out.println(p);
        }
    }
    
    public static void main(String[] args) {
        ArrayList<Product> list = new ArrayList<Product>();
        ArrayList<Tablet> list2 = new ArrayList<Tablet>();

        printAll(list);
        printAll(list2);       // ì»´íŒŒì¼ ì—ëŸ¬ ë°œìƒ
    }
    ```
    
    ë©”ì„œë“œì˜ ë§¤ê°œë³€ìˆ˜ íƒ€ì…ì´ `ArrayList<Product>` ë¡œ ì„ ì–¸ëœ ê²½ìš° `ArrayList<Product>` íƒ€ì…ì˜ ê°ì²´ë§Œ ë§¤ê°œë³€ìˆ˜ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ì»´íŒŒì¼ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.
    

### ì™€ì¼ë“œ ì¹´ë“œ

ë³´í†µ ì œë„¤ë¦­ì—ì„œëŠ” ë‹¨ í•˜ë‚˜ì˜ íƒ€ì…ì„ ì§€ì •í•˜ì§€ë§Œ, ì™€ì¼ë“œ ì¹´ë“œëŠ” í•˜ë‚˜ ì´ìƒì˜ íƒ€ì…ì„ ì§€ì •í•˜ëŠ” ê²ƒì„ ê°€ëŠ¥í•˜ê²Œ í•´ ì¤€ë‹¤. 

Ex.1

ë°©ê¸ˆ ìœ„ì—ì„œ ë´¤ë˜ `printAll(ArrayList<Product>list)` ë©”ì†Œë“œëŠ” `ArrayList<Product>` íƒ€ì…ì˜ ê°ì²´ë§Œ ë§¤ê°œë³€ìˆ˜ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆì—ˆë‹¤. ê·¸ëŸ°ë°, ë‹¤ìŒê³¼ ê°™ì´ ë°”ê¾¸ë©´ `Tablet` , `Laptop` í´ë˜ìŠ¤ì˜ ê°ì²´ë„ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤.

```java
public static void printAll(ArryaList<? extends Product> list) {
    for (Product p : list) {
            System.out.println(p);
    }
}
```

ì–´ë–¤ íƒ€ì… ('`?`')ì´ ìˆê³  ê·¸ íƒ€ì…ì´ `Product` ì˜ ìì†ì´ë¼ê³  ì„ ì–¸í•˜ë©´ `ArrayList<Tablet>`, `ArrayList<Laptop>`ë¥¼ ë§¤ê°œë³€ìˆ˜ë¡œ ë„˜ê²¨ ì¤„ ìˆ˜ìˆë‹¤. `Tablet`ê³¼ `Laptop` ëª¨ë‘ `Product`ì˜ ìì†ì´ê¸° ë•Œë¬¸ì´ë‹¤.

Ex.2

![](/assets/images/java/generic2.png)

- â‘  : List ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œ ì»¬ë ‰ì…˜ì„ ë§¤ê°œë³€ìˆ˜ íƒ€ì…ìœ¼ë¡œ ì •ì˜í•˜ê³ , ê·¸ ì»¬ë ‰ì…˜ì—ëŠ” T ë¼ëŠ” íƒ€ì…ì˜ ê°ì²´ë¥¼ ì €ì¥í•˜ë„ë¡ ì„ ì–¸ë˜ì–´ ìˆìŒ
- â‘¡ : TëŠ” Comparable ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œ í´ë˜ìŠ¤ì˜ íƒ€ì…ì´ì–´ì•¼ í•˜ë©°,
- â‘¢ : ë˜ëŠ”, ê·¸ ì¡°ìƒì˜ íƒ€ì…ì„ ë¹„êµí•˜ëŠ” Comparableì´ì–´ì•¼ í•œë‹¤.

ì˜ˆë¥¼ë“¤ì–´, Aí´ë˜ìŠ¤ê°€ Bí´ë˜ìŠ¤ì˜ ìì†ì´ë¼ë©´ <? super T>ëŠ” Aí´ë˜ìŠ¤ íƒ€ì…ì´ë‚˜ B í´ë˜ìŠ¤ íƒ€ì…ì´ ê°€ëŠ¥í•˜ë‹¤.


>ğŸ’¡ <?> : ëª¨ë“  ì¢…ë¥˜ì˜ í´ë˜ìŠ¤ë‚˜ ì¸í„°í˜ì´ìŠ¤ íƒ€ì…   
>ğŸ’¡ <? extends T> : T ë˜ëŠ” Tì˜ ìì† íƒ€ì…  
>ğŸ’¡ <? super T> : T ë˜ëŠ” Tì˜ ì¡°ìƒ íƒ€ì… 